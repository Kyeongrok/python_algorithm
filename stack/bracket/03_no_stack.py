import time
from datetime import datetime
s = '((((((((((((((((((((((()))))))))))))))))))))))))))))'
# s = '((((())))))'
s = ')((((()))))'
s = '((((()))))()'
s = '())()()'
# s = (')'*10000000) + ('()'*5)
# print(s)

s = '{(})'
s = '{(1 + } 2)'
s = '{(1 + 2) * 2}'
s = '((((((((((((((((((((((((((((((((((((((((((((((()))))))))))))))))))))))))))))))))))))))))))))))))))))))'
s = '((((((((((((((((((((((((((((((((((((((((((((((((()))))))))))))))))))))))))))))))))))))))))))))))))))))'*1000
print(len(s), datetime.now())
while '()' in s:
    for i in range(len(s) - 1):
        # if s[i] == '(' and s[i + 1] == ')':
        #     left = s[:i]
        #     right = s[i+2:]
        #     s = left + right
        #     break
        sp = s.split('()')
        s = ''.join(sp)

    # print(s)

print(f'f:{datetime.now()}', s)